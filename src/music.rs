use crate::interrupts::pit::{sleep_busy, PIT_BASE_FREQUENCY};
use crate::util::{outb, inb};
use alloc::vec::Vec;
use alloc::vec;

pub fn play_melody(melody: &Vec<(u16, u16, u16)>) {    
    for &(frequency, pause_duration, duration) in melody.iter() {
        print!("Playing a {}Hz note for {}ms", frequency, duration);
        if pause_duration > 0 {
            print!(" + {}ms pause", pause_duration);
        }
        println!();
        play_note_and_pause(frequency, duration, pause_duration);
    }
}

fn play_note_and_pause(frequency: u16, duration: u16, pause_duration: u16) {
    if frequency > 0 {
        play_sound(frequency);
        sleep_busy(duration as u32);
        stop_sound();
    }

    if pause_duration > 0 {
        sleep_busy(pause_duration as u32);
    }
}

fn play_sound(frequency: u16) {
    let speaker_ctrl = 0x61;
    let pit_ctrl = 0x43;
    let pit_data = 0x42;

    let divisor: u16 = (PIT_BASE_FREQUENCY / frequency as u32) as u16;

    outb(pit_ctrl, 0xb6); // square wave mode
    outb(pit_data, (divisor & 0xff) as u8);
    outb(pit_data, (divisor >> 8) as u8);

    let temp = inb(speaker_ctrl);
    outb(speaker_ctrl, temp | 0x3); // enable
}

fn stop_sound() {
    let speaker_ctrl = 0x61;

    let temp = inb(speaker_ctrl);
    outb(speaker_ctrl, temp & !0x3);
}

pub fn ttfaf() {
    let ttfaf_p1: Vec<(u16, u16, u16)> = vec!(
        (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (415, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (466, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (415, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (233, 0, 125), (294, 0, 125), (233, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (415, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (466, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (415, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (294, 0, 125), (262, 0, 125), (311, 0, 125), (233, 0, 125), (349, 0, 125), (233, 0, 125), (392, 0, 125), (233, 0, 125), (311, 0, 125), (233, 0, 125), (349, 0, 125), (233, 0, 125), (392, 0, 125), (233, 0, 125), (415, 0, 125), (233, 0, 125), (349, 0, 125), (233, 0, 125), (466, 0, 125), (233, 0, 125), (392, 0, 125), (233, 0, 125), (415, 0, 125), (233, 0, 125), (349, 0, 125), (233, 0, 125), (392, 0, 125), (233, 0, 125), (311, 0, 125), (233, 0, 125), (349, 0, 125), (233, 0, 125), (294, 0, 125), (233, 0, 125), (311, 0, 125), (208, 0, 125), (349, 0, 125), (208, 0, 125), (392, 0, 125), (208, 0, 125), (311, 0, 125), (208, 0, 125), (349, 0, 125), (208, 0, 125), (392, 0, 125), (208, 0, 125), (415, 0, 125), (208, 0, 125), (349, 0, 125), (208, 0, 125), (466, 0, 125), (196, 0, 125), (392, 0, 125), (196, 0, 125), (415, 0, 125), (196, 0, 125), (349, 0, 125), (196, 0, 125), (392, 0, 125), (196, 0, 125), (311, 0, 125), (196, 0, 125), (349, 0, 125), (196, 0, 125), (294, 0, 125), (196, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (415, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (466, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (415, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (233, 0, 125), (294, 0, 125), (233, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (415, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (466, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (415, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 125), (349, 0, 125), (262, 0, 125), (294, 0, 125), (262, 0, 125), (311, 0, 125), (208, 0, 125), (349, 0, 125), (208, 0, 125), (392, 0, 125), (208, 0, 125), (311, 0, 125), (208, 0, 125), (349, 0, 125), (208, 0, 125), (392, 0, 125), (208, 0, 125), (415, 0, 125), (208, 0, 125), (349, 0, 125), (208, 0, 125), (466, 0, 125), (208, 0, 125), (392, 0, 125), (208, 0, 125), (415, 0, 125), (208, 0, 125), (349, 0, 125), (208, 0, 125), (392, 0, 125), (208, 0, 125), (311, 0, 125), (208, 0, 125), (349, 0, 125), (208, 0, 125), (294, 0, 125), (208, 0, 125), (311, 0, 125), (196, 0, 125), (349, 0, 125), (196, 0, 125), (392, 0, 125), (196, 0, 125), (311, 0, 125), (196, 0, 125), (349, 0, 125), (196, 0, 125), (392, 0, 125), (196, 0, 125), (415, 0, 125), (196, 0, 125), (349, 0, 125), (196, 0, 125), (466, 0, 125), (415, 0, 125), (392, 0, 125), (311, 0, 125), (233, 0, 125), (294, 0, 125), (311, 0, 125), (349, 0, 125), (466, 0, 125), (587, 0, 125), (622, 0, 125), (587, 0, 125), (466, 0, 125), (415, 0, 125), (392, 0, 125), (415, 0, 125), (622, 0, 500), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 250), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 250), (523, 0, 250), (784, 0, 500), (523, 0, 250), (784, 0, 500), (523, 0, 250), (784, 0, 250), (523, 0, 250), (784, 0, 500), (523, 0, 250), (784, 0, 500), (523, 0, 250), (784, 0, 250), (523, 0, 250), (698, 0, 500), (523, 0, 250), (698, 0, 500), (523, 0, 250), (698, 0, 250), (523, 0, 250), (698, 0, 500), (523, 0, 250), (698, 0, 500), (523, 0, 250), (698, 0, 250), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 250), (523, 0, 250), (587, 0, 125), (494, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (698, 0, 250), (784, 0, 1250), (622, 0, 250), (784, 0, 500), (622, 0, 250), (784, 0, 250), (622, 0, 250), (784, 0, 500), (622, 0, 250), (784, 0, 500), (622, 0, 250), (784, 0, 250), (622, 0, 250), (932, 0, 500), (622, 0, 250), (932, 0, 500), (622, 0, 250), (932, 0, 250), (622, 0, 250), (932, 0, 500), (622, 0, 250), (932, 0, 500), (622, 0, 250), (932, 0, 250), (622, 0, 250), (831, 0, 500), (698, 0, 250), (831, 0, 500), (698, 0, 250), (831, 0, 250), (698, 0, 250), (831, 0, 500), (698, 0, 250), (831, 0, 500), (698, 0, 250), (831, 0, 250), (698, 0, 250), (622, 0, 125), (523, 0, 125), (415, 0, 125), (349, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (523, 0, 125), (622, 0, 125), (523, 0, 125), (415, 0, 125), (349, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (523, 0, 125), (587, 0, 250), (294, 0, 250), (494, 0, 250), (247, 0, 250), (392, 0, 250), (196, 0, 250), (294, 0, 250), (147, 0, 250), (262, 0, 250), (392, 0, 250), (784, 0, 1000), (698, 0, 250), (622, 0, 250), (698, 0, 500), (784, 0, 1000), (698, 0, 250), (622, 0, 250), (698, 0, 500), (784, 0, 250), (698, 0, 500), (622, 0, 500), (523, 0, 1250), (392, 0, 500), (698, 0, 2000), (622, 0, 500), (698, 0, 500), (784, 0, 250), (698, 0, 750), (622, 0, 500), (698, 0, 500), (784, 0, 250), (698, 0, 500), (622, 0, 500), (523, 0, 250), (262, 0, 125), (311, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (523, 0, 125), (392, 0, 125), (349, 0, 125), (311, 0, 125), (262, 0, 125), (392, 0, 125), (466, 0, 125), (523, 0, 125), (466, 0, 125), (392, 0, 125), (466, 0, 125), (523, 0, 500), (392, 0, 1000), (349, 0, 250), (311, 0, 250), (349, 0, 500), (311, 0, 250), (392, 0, 750), (262, 0, 250), (311, 0, 250), (349, 0, 500), (392, 0, 500), (349, 0, 250), (311, 0, 500), (262, 0, 500), (311, 0, 750), (104, 0, 125), (78, 0, 125), (156, 0, 125), (78, 0, 125), (349, 0, 2000), (311, 0, 500), (349, 0, 500), (392, 0, 250), (349, 0, 750), (311, 0, 500), (349, 0, 500), (392, 0, 250), (349, 0, 750), (311, 0, 500), (262, 0, 375), (196, 0, 125), (131, 0, 125), (196, 0, 125), (233, 0, 125), (156, 0, 125), (262, 0, 125), (156, 0, 125), (196, 0, 125), (131, 0, 125), (156, 0, 125), (98, 0, 125), (117, 0, 125), (78, 0, 125), (131, 0, 125), (98, 0, 125), (131, 0, 125), (98, 0, 125), (523, 0, 1000), (466, 0, 250), (392, 0, 250), (466, 0, 750), (392, 0, 250), (466, 0, 250), (523, 15, 234), (311, 0, 250), (392, 0, 250), (415, 0, 500), (466, 0, 500), (415, 0, 250), (392, 0, 500), (311, 0, 500), (392, 0, 750), (156, 0, 125), (78, 0, 125), (131, 0, 125), (78, 0, 125), (349, 0, 2000), (311, 0, 500), (349, 0, 500), (392, 0, 250), (349, 0, 750), (311, 0, 500), (349, 0, 500), (392, 0, 250), (349, 0, 500), (311, 0, 500), (262, 250, 750), (131, 0, 250), (415, 0, 500), (466, 0, 500), (523, 0, 750), (466, 0, 750), (415, 0, 500), (523, 0, 750)
    );

    let ttfaf_p2: Vec<(u16, u16, u16)> = vec!(
        (784, 0, 125), (622, 0, 125), (523, 0, 125), (392, 0, 125), (311, 0, 125), (349, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (784, 0, 125), (1047, 0, 125), (1245, 0, 125), (1047, 0, 125), (784, 0, 125), (622, 0, 125), (523, 0, 125), (392, 0, 125), (311, 0, 125), (415, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (784, 0, 125), (1047, 0, 125), (1245, 0, 125), (1047, 0, 125), (784, 0, 125), (622, 0, 125), (523, 0, 125), (392, 0, 125), (311, 0, 125), (262, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (784, 0, 125), (1047, 0, 125), (1245, 0, 125), (1047, 0, 125), (784, 0, 125), (622, 0, 125), (523, 0, 125), (392, 0, 125), (311, 0, 125), (784, 0, 62), (698, 0, 62), (587, 0, 62), (698, 0, 62), (622, 0, 62), (494, 0, 62), (622, 0, 62), (587, 0, 62), (392, 0, 62), (587, 0, 62), (523, 0, 62), (349, 0, 62), (523, 0, 62), (494, 0, 62), (294, 0, 62), (494, 0, 62), (415, 0, 62), (349, 0, 62), (415, 0, 62), (392, 0, 62), (294, 0, 62), (392, 0, 62), (349, 0, 62), (247, 0, 62), (349, 0, 62), (311, 0, 62), (196, 0, 62), (311, 0, 62), (294, 0, 62), (175, 0, 62), (294, 0, 62), (247, 0, 62), (233, 0, 125), (262, 0, 625), (233, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 875), (392, 0, 375), (349, 0, 375), (311, 0, 250), (349, 0, 375), (311, 0, 375), (294, 0, 250), (233, 0, 125), (262, 0, 625), (233, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 875), (392, 0, 375), (349, 0, 375), (311, 0, 250), (349, 0, 375), (311, 0, 375), (294, 0, 250), (233, 0, 125), (262, 0, 625), (233, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 875), (392, 0, 375), (349, 0, 375), (311, 0, 250), (349, 0, 375), (311, 0, 375), (294, 0, 250), (233, 0, 125), (262, 0, 625), (233, 0, 125), (262, 0, 125), (311, 0, 125), (262, 0, 875), (392, 0, 375), (349, 0, 375), (311, 0, 250), (349, 0, 375), (311, 0, 375), (294, 0, 250), (392, 0, 750), (415, 0, 250), (392, 0, 250), (349, 0, 250), (311, 0, 500), (349, 0, 750), (392, 0, 250), (349, 0, 125), (311, 0, 125), (262, 0, 125), (233, 0, 125), (262, 0, 500), (466, 0, 125), (523, 0, 125), (466, 0, 125), (523, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (784, 0, 125), (622, 0, 125), (784, 0, 125), (523, 0, 125), (622, 0, 125), (523, 0, 125), (622, 0, 125), (523, 0, 250), (466, 0, 250), (349, 0, 250), (466, 0, 500), (523, 0, 125), (466, 0, 125), (587, 0, 62), (698, 0, 187), (1865, 0, 250), (622, 0, 875), (587, 0, 125), (1047, 0, 375), (587, 0, 375), (466, 0, 250), (587, 0, 375), (466, 0, 375), (392, 0, 250), (415, 0, 125), (392, 0, 125), (415, 0, 125), (466, 0, 125), (311, 0, 500), (392, 0, 375), (349, 0, 125), (392, 0, 125), (466, 0, 125), (392, 0, 125), (349, 0, 125), (392, 0, 375), (349, 0, 125), (392, 0, 125), (466, 0, 125), (392, 0, 125), (349, 0, 125), (622, 0, 125), (523, 0, 125), (622, 0, 125), (698, 0, 125), (784, 0, 125), (698, 0, 125), (622, 0, 125), (523, 0, 125), (466, 0, 1000), (294, 0, 125), (311, 0, 625), (294, 0, 125), (311, 0, 125), (392, 0, 125), (311, 0, 875), (466, 0, 375), (415, 0, 375), (392, 0, 250), (415, 0, 375), (392, 0, 375), (349, 0, 250), (294, 0, 125), (311, 0, 625), (294, 0, 125), (311, 0, 125), (392, 0, 125), (311, 0, 875), (466, 0, 375), (415, 0, 375), (392, 0, 250), (415, 0, 375), (392, 0, 375), (349, 0, 250), (294, 0, 125), (311, 0, 625), (294, 0, 125), (311, 0, 125), (392, 0, 125), (311, 0, 875), (466, 0, 375), (415, 0, 375), (392, 0, 250), (415, 0, 375), (392, 0, 375), (349, 0, 250), (294, 0, 125), (311, 0, 625), (294, 0, 125), (311, 0, 125), (392, 0, 125), (311, 0, 875), (466, 0, 375), (415, 0, 375), (392, 0, 250), (415, 0, 375), (392, 0, 375), (349, 0, 250), (262, 0, 125), (208, 0, 125), (262, 0, 125), (208, 0, 125), (311, 0, 250), (262, 0, 250), (294, 0, 250), (233, 0, 250), (196, 0, 250), (262, 0, 250), (196, 0, 328), (262, 0, 333), (294, 0, 338), (1245, 0, 1000), (466, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (587, 0, 125), (523, 0, 125), (587, 0, 125), (622, 26, 36), (784, 0, 62), (831, 0, 98), (784, 0, 98), (698, 0, 98), (784, 0, 98), (698, 0, 104), (622, 0, 125), (587, 0, 125), (622, 0, 125), (698, 0, 125), (523, 0, 125), (466, 0, 125), (523, 0, 125), (622, 0, 125), (698, 0, 125), (784, 0, 125), (831, 0, 125), (784, 0, 78), (698, 0, 83), (622, 0, 88), (698, 0, 125), (784, 0, 125), (932, 0, 125), (2489, 0, 500), (392, 0, 375), (831, 0, 375), (392, 0, 250), (349, 0, 375), (932, 0, 375), (698, 0, 250), (587, 0, 125), (698, 0, 125), (1047, 0, 125), (1397, 0, 750), (1245, 0, 125), (1175, 0, 125), (1245, 0, 625), (698, 0, 125), (523, 26, 52), (622, 0, 46), (784, 0, 125), (523, 0, 125), (466, 0, 125), (523, 0, 125), (587, 0, 125), (349, 0, 125), (311, 0, 125), (415, 0, 125), (349, 0, 125), (311, 0, 125), (233, 0, 125), (311, 52, 26), (233, 0, 46), (262, 0, 78), (233, 0, 83), (196, 0, 88), (233, 0, 125), (196, 0, 125), (233, 0, 250), (311, 0, 125), (233, 0, 125), (415, 0, 125), (466, 0, 125), (523, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (523, 0, 125), (622, 0, 125), (523, 0, 125), (622, 0, 125), (392, 0, 750), (349, 0, 250), (311, 0, 250), (262, 0, 250), (311, 0, 250), (349, 0, 250), (392, 0, 750), (349, 0, 250), (311, 0, 250), (466, 0, 250), (392, 0, 1250), (349, 0, 250), (311, 0, 250), (262, 0, 250), (311, 0, 250), (349, 0, 375), (392, 0, 125), (349, 0, 125), (311, 0, 125), (262, 0, 125), (311, 0, 125), (349, 0, 125), (392, 0, 125), (466, 0, 125), (392, 0, 125), (349, 0, 125), (311, 0, 125), (1397, 0, 500), (466, 0, 750), (415, 0, 250), (392, 0, 250), (311, 0, 250), (392, 0, 250), (415, 0, 250), (466, 0, 750), (415, 0, 250), (392, 0, 250), (622, 0, 250), (466, 0, 1250), (415, 0, 250), (392, 0, 250), (311, 0, 250), (392, 0, 250), (415, 0, 250), (466, 0, 125), (415, 0, 125), (392, 0, 125), (311, 0, 125), (392, 0, 125), (415, 0, 125), (466, 0, 125), (622, 0, 125), (415, 125, 125), (523, 125, 125), (622, 125, 125), (831, 125, 125), (311, 0, 62), (392, 0, 62), (349, 0, 62), (415, 0, 62), (294, 0, 62), (349, 0, 62), (311, 0, 62), (392, 0, 62), (262, 0, 62), (311, 0, 62), (294, 0, 62), (349, 0, 62), (247, 0, 62), (294, 0, 62), (262, 0, 62), (311, 0, 62), (784, 125, 125), (587, 125, 125), (494, 125, 125), (392, 125, 125), (49, 0, 93), (98, 0, 93), (196, 0, 93), (392, 62, 250), (87, 0, 93), (175, 0, 93), (349, 62, 250), (78, 0, 93), (156, 0, 93), (311, 62, 250), (73, 0, 93), (147, 0, 93), (294, 0, 218), (311, 0, 145), (294, 0, 151), (262, 0, 151), (294, 0, 151), (262, 0, 151), (208, 0, 145), (196, 0, 151), (208, 0, 151), (262, 0, 151), (294, 0, 151), (311, 0, 125), (392, 0, 125), (415, 0, 125), (523, 0, 125), (392, 0, 125), (415, 0, 125), (523, 0, 125), (466, 0, 125), (523, 0, 125), (392, 0, 125), (587, 0, 125), (622, 0, 125), (587, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (698, 0, 125), (784, 0, 375), (698, 0, 125), (622, 0, 125), (587, 0, 125), (523, 0, 125), (415, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (698, 0, 161), (622, 0, 166), (698, 0, 171), (784, 0, 125), (698, 0, 125), (784, 0, 125), (698, 0, 125), (831, 0, 125), (784, 0, 125), (932, 0, 125), (784, 0, 125), (698, 0, 125), (622, 0, 125), (932, 0, 125), (1047, 0, 875), (932, 0, 250), (1047, 0, 125), (932, 0, 125), (1047, 0, 250), (831, 0, 125), (1047, 0, 125), (784, 0, 125), (1047, 0, 125), (698, 0, 125), (587, 0, 125), (698, 0, 125), (784, 0, 125), (831, 0, 125), (932, 0, 500), (831, 0, 125), (932, 0, 125), (784, 0, 125), (932, 0, 250), (698, 0, 125), (622, 0, 125), (587, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (698, 0, 125), (784, 0, 125), (831, 0, 250), (523, 0, 161), (587, 0, 166), (698, 0, 171), (1245, 0, 125), (698, 0, 125), (784, 0, 125), (698, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (587, 0, 125), (523, 0, 125), (587, 0, 125), (523, 0, 125), (466, 0, 125), (392, 0, 375), (415, 0, 125), (466, 0, 125), (392, 0, 125), (349, 0, 125), (294, 0, 125), (311, 0, 125), (392, 0, 125), (415, 0, 145), (466, 0, 151), (523, 0, 151), (587, 0, 151), (622, 0, 151), (1047, 0, 500), (932, 0, 250), (1245, 0, 500), (932, 0, 250), (1047, 0, 250), (932, 0, 250), (392, 0, 125), (523, 0, 125), (466, 0, 250), (523, 0, 125), (311, 0, 125), (349, 0, 250), (392, 0, 250), (196, 125, 125), (392, 0, 500), (587, 0, 500), (294, 0, 250), (622, 0, 250), (587, 0, 250), (523, 0, 250), (466, 0, 500), (698, 0, 750), (392, 0, 250), (349, 0, 250), (622, 0, 250), (523, 0, 500), (262, 0, 125), (294, 0, 125), (311, 0, 125), (392, 0, 125), (523, 0, 98), (622, 0, 98), (784, 0, 98), (831, 0, 98), (784, 0, 104), (311, 0, 125), (262, 0, 125), (622, 0, 125), (523, 0, 125), (466, 0, 125), (523, 0, 125), (392, 0, 125), (311, 0, 125), (392, 0, 125), (262, 0, 125), (311, 0, 125), (349, 0, 125), (392, 0, 98), (523, 0, 98), (622, 0, 98), (784, 0, 98), (622, 0, 104), (523, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (1047, 0, 562), (831, 0, 62), (784, 0, 62), (622, 0, 62), (698, 0, 62), (587, 0, 62), (622, 0, 62), (523, 0, 62), (1047, 0, 62), (831, 0, 62), (622, 0, 62), (523, 0, 62), (698, 0, 62), (587, 0, 62), (622, 0, 62), (523, 0, 62), (1047, 0, 62), (831, 0, 62), (784, 0, 62), (622, 0, 62), (698, 0, 62), (587, 0, 62), (622, 0, 62), (523, 0, 62), (1047, 0, 62), (831, 0, 62), (622, 0, 62), (523, 0, 62), (698, 0, 62), (587, 0, 62), (622, 0, 62), (523, 0, 62), (1047, 0, 62), (831, 0, 62), (698, 0, 62), (831, 0, 62), (784, 0, 62), (622, 0, 62), (831, 0, 62), (698, 0, 62), (1047, 0, 62), (831, 0, 62), (698, 0, 62), (831, 0, 62), (784, 0, 62), (622, 0, 62), (831, 0, 62), (698, 0, 62), (1175, 0, 500), (1245, 0, 500), (392, 0, 125), (415, 0, 125), (466, 0, 125), (523, 0, 125), (311, 0, 125), (349, 0, 125), (392, 0, 125), (415, 0, 125), (466, 0, 125), (415, 0, 125), (466, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (698, 0, 125), (784, 0, 125), (932, 20, 635), (932, 0, 93), (1047, 0, 250), (932, 0, 250), (784, 0, 250), (622, 0, 625), (784, 0, 125), (622, 0, 125), (784, 0, 125), (622, 0, 125), (784, 0, 62), (622, 0, 62), (1245, 0, 62), (784, 0, 62), (622, 0, 62), (523, 0, 62), (622, 0, 62), (523, 0, 62), (784, 0, 62), (622, 0, 62), (523, 0, 62), (622, 0, 62), (523, 0, 62), (622, 0, 62), (1245, 0, 62), (622, 0, 62), (784, 0, 62), (622, 0, 62), (523, 0, 62), (784, 0, 62), (622, 0, 62), (523, 0, 187), (392, 0, 125), (523, 0, 125), (392, 0, 125), (466, 0, 250), (392, 0, 250), (466, 0, 250), (392, 0, 250), (349, 0, 250), (392, 0, 250), (523, 0, 62), (415, 0, 62), (262, 0, 62), (311, 0, 62), (466, 0, 62), (311, 0, 62), (233, 0, 62), (311, 0, 62), (523, 0, 62), (415, 0, 62), (262, 0, 62), (311, 0, 62), (466, 0, 62), (311, 0, 62), (233, 0, 62), (311, 0, 62), (523, 0, 62), (415, 0, 62), (262, 0, 62), (311, 0, 62), (466, 0, 62), (311, 0, 62), (233, 0, 62), (311, 0, 62), (523, 0, 62), (415, 0, 62)
    );

    let ttfaf_p3: Vec<(u16, u16, u16)> = vec!(
        (262, 0, 62), (311, 0, 62), (466, 0, 62), (311, 0, 62), (233, 0, 62), (311, 0, 62), (622, 0, 125), (523, 0, 125), (415, 0, 125), (311, 0, 125), (262, 0, 125), (311, 0, 125), (415, 0, 125), (523, 0, 125), (554, 0, 125), (523, 0, 125), (554, 0, 125), (622, 0, 125), (523, 0, 250), (415, 0, 250), (349, 0, 125), (466, 0, 125), (349, 0, 125), (466, 0, 250), (587, 0, 125), (466, 0, 125), (587, 0, 125), (1397, 0, 1000), (208, 0, 125), (233, 0, 125), (262, 0, 125), (294, 0, 125), (311, 0, 125), (349, 0, 125), (392, 0, 125), (415, 0, 125), (932, 0, 1000), (784, 0, 1750), (698, 0, 125), (622, 0, 125), (698, 0, 250), (622, 0, 250), (523, 0, 250), (466, 0, 750), (58, 0, 125), (87, 0, 125), (349, 0, 125), (392, 0, 125), (466, 0, 250), (392, 0, 250), (370, 0, 250), (349, 0, 250), (311, 0, 250), (349, 0, 250), (392, 0, 250), (466, 0, 250), (494, 0, 250), (523, 0, 250), (622, 0, 250), (466, 0, 250), (932, 0, 1500), (784, 0, 500), (831, 0, 500), (932, 52, 385), (932, 0, 62), (1047, 0, 500), (932, 0, 750), (831, 0, 500), (784, 0, 250), (831, 0, 250), (784, 0, 250), (622, 0, 250), (466, 0, 250), (392, 0, 250), (466, 0, 250), (698, 0, 250), (622, 0, 750), (698, 0, 250), (622, 26, 161), (698, 0, 62), (784, 0, 500), (466, 0, 500), (622, 0, 250), (932, 0, 250), (622, 0, 250), (523, 0, 500), (784, 0, 250), (523, 0, 250), (466, 0, 250), (415, 0, 250), (466, 0, 250), (622, 0, 250), (698, 0, 250), (932, 0, 125), (784, 0, 125), (698, 0, 125), (622, 0, 125), (932, 0, 750), (1047, 0, 250), (784, 0, 250), (831, 0, 250), (622, 0, 250), (698, 0, 250), (523, 0, 250), (622, 0, 250), (392, 0, 750), (466, 0, 1250), (1047, 0, 125), (831, 0, 125), (784, 0, 125), (622, 0, 125), (784, 0, 78), (587, 0, 83), (622, 0, 88), (1047, 0, 78), (784, 0, 83), (831, 0, 88), (1047, 0, 125), (831, 0, 125), (1047, 0, 78), (784, 0, 83), (622, 0, 88), (784, 0, 78), (587, 0, 83), (622, 0, 88), (1047, 0, 78), (784, 0, 83), (831, 0, 88), (1047, 0, 78), (784, 0, 83), (831, 0, 88), (1047, 0, 78), (784, 0, 83), (831, 0, 88), (784, 0, 125), (622, 0, 125), (784, 0, 78), (587, 0, 83), (784, 0, 88), (587, 0, 78), (622, 0, 83), (784, 0, 88), (587, 0, 125), (523, 0, 125), (466, 0, 250), (415, 0, 250), (262, 0, 125), (311, 0, 125), (392, 0, 125), (466, 0, 125), (622, 0, 125), (784, 0, 125), (932, 0, 78), (831, 0, 83), (784, 0, 88), (698, 0, 125), (622, 0, 125), (587, 0, 125), (523, 0, 125), (466, 0, 161), (415, 0, 166), (392, 0, 171), (294, 0, 125), (311, 0, 125), (349, 0, 125), (392, 0, 125), (415, 0, 125), (466, 0, 125), (523, 0, 125), (622, 0, 125), (523, 0, 161), (466, 0, 166), (392, 0, 171), (466, 0, 161), (523, 0, 166), (587, 0, 171), (622, 0, 1250), (831, 0, 500), (523, 0, 250), (622, 0, 250), (698, 0, 500), (1568, 0, 500), (587, 0, 500), (523, 0, 250), (587, 0, 250), (466, 0, 250), (415, 0, 125), (392, 0, 125), (349, 0, 125), (311, 0, 125), (466, 0, 1000), (415, 0, 250), (392, 0, 250), (466, 0, 250), (784, 0, 1750), (622, 0, 250), (784, 0, 500), (622, 0, 250), (784, 0, 250), (622, 0, 250), (784, 88, 145), (784, 0, 62), (831, 78, 250), (87, 0, 125), (784, 0, 250), (117, 0, 125), (87, 0, 125), (622, 0, 250), (1865, 0, 250), (175, 0, 125), (87, 0, 125), (311, 0, 125), (349, 0, 125), (392, 0, 125), (415, 0, 125), (466, 0, 125), (392, 0, 125), (415, 0, 125), (392, 0, 125), (523, 0, 125), (466, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (415, 0, 125), (523, 0, 125), (622, 0, 125), (523, 0, 125), (698, 0, 62), (587, 0, 62), (622, 0, 62), (523, 0, 62), (587, 0, 62), (466, 0, 62), (523, 0, 62), (415, 0, 62), (466, 0, 125), (587, 0, 125), (698, 0, 125), (587, 0, 187), (466, 0, 62), (698, 0, 62), (587, 0, 62), (831, 0, 62), (698, 0, 62), (587, 0, 62), (698, 0, 62), (622, 0, 250), (523, 0, 250), (698, 0, 250), (523, 0, 250), (784, 0, 250), (523, 0, 250), (698, 0, 250), (523, 0, 286), (831, 0, 41), (622, 0, 46), (523, 0, 62), (415, 0, 62), (622, 0, 62), (523, 0, 62), (415, 0, 62), (622, 0, 62), (1047, 0, 62), (622, 0, 62), (831, 0, 62), (622, 0, 62), (784, 0, 62), (831, 0, 62), (415, 0, 62), (622, 0, 62), (523, 0, 36), (831, 0, 41), (622, 0, 46), (523, 0, 62), (415, 0, 62), (622, 0, 62), (523, 0, 62), (415, 0, 62), (622, 0, 62), (1047, 0, 62), (622, 0, 62), (831, 0, 62), (622, 0, 62), (784, 0, 62), (831, 0, 62), (415, 0, 62), (622, 0, 187), (587, 0, 125), (622, 0, 125), (784, 0, 125), (831, 0, 125), (932, 0, 125), (831, 0, 62), (784, 0, 62), (622, 0, 125), (831, 0, 125), (784, 0, 125), (622, 0, 125), (466, 0, 125), (392, 0, 125), (415, 0, 62), (466, 0, 62), (523, 0, 125), (587, 0, 125), (622, 0, 250), (587, 0, 125), (466, 0, 125), (392, 0, 125), (587, 0, 125), (466, 0, 125), (415, 0, 250), (392, 0, 125), (415, 0, 125), (466, 0, 125), (622, 0, 750), (587, 0, 250), (622, 0, 250), (1175, 0, 500), (466, 0, 500), (392, 0, 250), (1245, 0, 750), (932, 0, 250), (831, 0, 250), (784, 0, 250), (932, 0, 500), (311, 0, 125), (294, 0, 125), (311, 0, 125), (349, 0, 125), (392, 0, 125), (415, 0, 125), (466, 0, 125), (523, 0, 125), (587, 0, 125), (523, 0, 125), (466, 0, 125), (523, 0, 125), (466, 0, 125), (523, 0, 125), (622, 0, 125), (523, 0, 125), (622, 0, 125), (784, 0, 125), (988, 0, 125), (784, 0, 125), (523, 0, 125), (622, 0, 125), (932, 0, 125), (622, 0, 375), (880, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (831, 0, 125), (622, 0, 125), (784, 0, 750), (622, 0, 750), (784, 0, 1250), (698, 0, 750), (622, 0, 500), (523, 0, 2500), (415, 0, 500), (587, 0, 500), (622, 0, 500), (698, 0, 750), (587, 0, 750), (698, 0, 1250), (622, 0, 750), (698, 0, 500), (784, 0, 750), (311, 0, 1750), (523, 0, 500), (622, 0, 500), (698, 0, 500), (784, 0, 750), (622, 0, 750), (784, 0, 1250), (698, 0, 750), (622, 0, 1250), (698, 0, 750), (622, 0, 500), (523, 0, 1500), (622, 0, 500), (698, 0, 750), (587, 0, 750), (622, 0, 500), (698, 0, 750), (784, 0, 750), (831, 0, 500), (988, 0, 125), (784, 62, 62), (392, 0, 250), (784, 62, 62), (784, 62, 62), (392, 62, 62), (392, 62, 62), (784, 62, 62), (784, 62, 62), (392, 62, 62), (392, 62, 62), (784, 62, 62), (784, 62, 62), (392, 62, 62), (392, 62, 62), (49, 0, 125), (98, 0, 125), (49, 0, 250), (622, 0, 500), (784, 0, 500), (932, 0, 500), (1047, 0, 2750), (932, 0, 750), (698, 0, 500), (784, 0, 500), (932, 0, 250), (784, 0, 2250), (622, 0, 1000), (698, 0, 2000), (784, 0, 750), (698, 0, 750), (622, 0, 500), (784, 0, 2000), (147, 0, 125), (117, 0, 125), (98, 0, 125), (117, 0, 125), (622, 0, 500), (784, 0, 500), (932, 0, 500), (1047, 0, 2750), (932, 0, 750), (698, 0, 500), (784, 0, 500), (932, 0, 250), (784, 0, 750), (698, 0, 500), (784, 0, 1000), (523, 0, 500), (622, 0, 500), (698, 0, 1500), (622, 0, 500), (698, 0, 500), (784, 0, 500), (698, 0, 500), (622, 0, 1000), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 250), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 250), (523, 0, 250), (784, 0, 500), (523, 0, 250), (784, 0, 500), (523, 0, 250), (784, 0, 250), (523, 0, 250), (784, 0, 500), (523, 0, 250), (784, 0, 500), (523, 0, 250), (784, 0, 250), (523, 0, 250), (698, 0, 500), (523, 0, 250), (698, 0, 500), (523, 0, 250), (698, 0, 250), (523, 0, 250), (698, 0, 500), (523, 0, 250), (698, 0, 500), (523, 0, 250), (698, 0, 250), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 500), (523, 0, 250), (622, 0, 250), (523, 0, 250), (415, 0, 125), (466, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (523, 0, 125), (587, 0, 125), (622, 0, 125), (698, 0, 125), (784, 0, 125), (698, 0, 125), (622, 0, 125), (698, 0, 125), (622, 0, 125), (523, 0, 125), (466, 0, 125), (784, 0, 500), (622, 0, 250), (784, 0, 500), (622, 0, 250), (784, 0, 250), (622, 0, 250), (784, 0, 500), (622, 0, 250), (784, 0, 500), (622, 0, 250), (784, 0, 250), (622, 0, 250), (932, 0, 500), (622, 0, 250), (932, 0, 500), (622, 0, 250), (932, 0, 250), (622, 0, 250), (932, 0, 500), (622, 0, 250), (932, 0, 500), (622, 0, 250), (932, 0, 250), (622, 0, 250), (831, 0, 500), (698, 0, 250), (831, 0, 500), (698, 0, 250), (831, 0, 250), (698, 0, 250), (831, 0, 500), (698, 0, 250), (831, 0, 500), (698, 0, 250), (831, 0, 250), (698, 0, 250), (311, 0, 125), (392, 0, 125), (523, 0, 125), (622, 0, 125), (784, 0, 98), (831, 0, 98), (784, 0, 98), (622, 0, 98), (523, 0, 104), (622, 0, 125), (523, 0, 125), (392, 0, 125), (523, 0, 125), (392, 0, 98), (311, 0, 98), (392, 0, 98), (311, 0, 98), (262, 0, 182), (311, 0, 83), (392, 0, 88), (415, 0, 78), (523, 0, 83), (622, 0, 166), (784, 0, 83), (831, 0, 88), (622, 0, 78), (784, 0, 83), (831, 0, 88), (622, 0, 78), (831, 0, 83), (784, 0, 88), (622, 0, 125), (831, 0, 125), (784, 0, 125), (622, 0, 125), (784, 0, 125), (622, 0, 125), (1047, 0, 250), (466, 0, 500), (392, 0, 250), (466, 0, 500), (392, 0, 250), (466, 0, 500), (392, 0, 500), (466, 0, 500), (392, 0, 250), (349, 0, 250), (311, 0, 250), (349, 0, 250), (392, 0, 500), (349, 0, 250), (392, 0, 500), (349, 0, 250), (392, 0, 500), (349, 0, 500), (392, 0, 250), (415, 0, 250), (392, 0, 250), (349, 0, 250), (311, 0, 250), (196, 0, 750), (208, 250, 250), (208, 250, 250), (208, 250, 250), (208, 250, 250), (208, 0, 250), (233, 0, 500), (262, 250, 250), (587, 0, 125), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 250), (466, 0, 250), (587, 0, 250), (784, 0, 125), (466, 0, 125), (587, 0, 125), (415, 0, 250), (392, 0, 250), (349, 0, 250), (311, 0, 250), (392, 0, 250), (349, 0, 250), (311, 0, 250), (294, 0, 250), (1976, 0, 1000), (784, 0, 1000), (622, 0, 125), (587, 0, 125), (523, 0, 125), (466, 0, 250), (523, 0, 125), (622, 0, 125), (698, 0, 125), (784, 0, 328), (932, 0, 333), (1047, 0, 338)
    );

    let melody = vec!(ttfaf_p1, ttfaf_p2, ttfaf_p3);

    for song in melody.iter() {
        play_melody(song);
    }
}